@using Sandbox;
@using Sandbox.UI;
@attribute [StyleSheet]
@inherits Panel

@namespace Home.UI

<root>

    @if(LocalPlayer?.Grabbing is not null)
    {
        
    }
    else if(LocalPlayer?.CanGrab ?? false)
    {
        <i>pan_tool</i>
    }
    else
    {
        <div class="dot" />
    }

</root>

@code
{
    HomePlayer LocalPlayer
	{
		get
		{
			if ( _localPlayer == null )
				_localPlayer = HomePlayer.Local;

			return _localPlayer;
		}
	}
	HomePlayer _localPlayer;
    
    public override void Tick()
    {
        SetClass("hidden", !LocalPlayer?.IsFirstPerson ?? false);
    }

    protected override int BuildHash()
    {
        return HashCode.Combine(LocalPlayer?.CanGrab ?? false, LocalPlayer?.Grabbing ?? null);
    }

}

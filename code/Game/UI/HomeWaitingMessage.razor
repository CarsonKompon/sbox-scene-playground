@using Sandbox;
@using Sandbox.UI;
@using Sandbox.Menu;
@attribute [StyleSheet]
@inherits PanelComponent

<root>

    <div class="message">
        <img src="@($"avatar:{User.Id}")" class="avatar" />
        <p>@Message</p>
    </div>

</root>

@code
{
    public Friend User { get; set; }
    public string Message { get; set; }

    float speed = 0;

    public override void Update()
    {
        speed += Time.Delta * 0.035f;
        Transform.Position += Vector3.Up * speed;

        Panel.Style.Opacity = Math.Max(1 - (Math.Max(0, Transform.Position.z - 230) / 300), 0);

        if(Transform.Position.z > 1000)
        {
            GameObject.Destroy();
        }
    }

    protected override int BuildHash()
    {
        return HashCode.Combine(Message);
    }

}

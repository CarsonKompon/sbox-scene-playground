@using System.Collections.Generic;
@using Sandbox;
@using Sandbox.UI;
@attribute [StyleSheet]
@inherits Panel

<root>
   <div class="radial" />
   <div class="dot" />
</root>

@code
{
   List<string> locks = new();

   public override void Tick()
   {
      base.Tick();

      @* var pos = Camera.Main.ToScreen(bounds.Center);
      pos.x /= Camera.Main.Size.x;
      pos.y /= Camera.Main.Size.y;
      pos *= 100.0f; *@

      Style.Left = Mouse.Position.x * ScaleFromScreen;
      Style.Top = Mouse.Position.y * ScaleFromScreen;

      SetClass("click", Input.Down("attack1"));
      SetClass("hidden", locks.Count > 0);
   }

   public void Hide(string id = "default")
   {
      if( locks.Contains(id) ) return;
      locks.Add(id);
   }

   public void Show(string id = "default")
   {
      if( !locks.Contains(id) ) return;
      locks.Remove(id);
   }

   protected override int BuildHash() => System.HashCode.Combine( Time.Now );
}